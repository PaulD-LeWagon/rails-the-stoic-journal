<main class="container">

  <div class="d-flex justify-content-center align-items-start min-vh-100">

    <div class="col-md-10 p-3">

      <%= turbo_frame_tag "tasks_index_turbo_frame" do %>

        <div class="header d-flex justify-content-between align-items-center">

          <h1 class="my-5 mb-3 fst-bold">All Tasks</h1>

          <%= link_to new_task_path,
            data: {
              turbo_frame: "new_task_turbo_frame"
            },
            class: "btn bg-quinary btn-lg",
            title: "Add a new task" do %>

            <i class="fa-solid fa-square-plus"></i>

          <% end %>

        </div>

      <% end %>

      <hr>

      <div class="cards tasks-container collapse-container">

        <%= turbo_frame_tag @turbo_frame_id, data: { controller: "dragula" } do %>

          <% @tasks.each_with_index do |task, index| %>

            <%= turbo_frame_tag "edit_#{ dom_id task }" do %>

              <%= render 'task_card', task: task %>

            <% end %>

          <% end %>

        <% end %>

      </div>

    </div>
  </div>

</main>
